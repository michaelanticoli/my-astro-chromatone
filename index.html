<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎵✨ Astro-Chromatone ✨🎵</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #0c0c0c 0%, #1a1a2e 25%, #16213e 50%, #0f1419 100%);
            color: white;
            min-height: 100vh;
        }
        .app { text-align: center; padding: 2rem; }
        .header { margin-bottom: 3rem; }
        .title {
            font-size: 3rem;
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }
        .form { max-width: 400px; margin: 0 auto 2rem; }
        .input-group { margin-bottom: 1rem; text-align: left; }
        .input-group label { display: block; margin-bottom: 0.5rem; color: #667eea; font-weight: 600; }
        .input-group input {
            width: 100%;
            padding: 1rem;
            border: 2px solid rgba(102, 126, 234, 0.3);
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            font-size: 1rem;
        }
        .input-group input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }
        .generate-btn {
            width: 100%;
            padding: 1.2rem 2rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 25px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 1rem;
        }
        .generate-btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(102, 126, 234, 0.3); }
        .generate-btn:disabled { opacity: 0.6; cursor: not-allowed; }
        .wheel { margin: 2rem 0; }
        .controls { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin: 2rem 0; }
        .btn {
            padding: 0.8rem 1.5rem;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
        }
        .btn:hover { background: #667eea; color: white; }
        .results { margin-top: 2rem; background: rgba(255, 255, 255, 0.1); border-radius: 15px; padding: 2rem; }
        .loading { padding: 3rem; }
        .spinner {
            width: 50px;
            height: 50px;
            border: 3px solid rgba(102, 126, 234, 0.3);
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .zodiac-circle { cursor: pointer; transition: all 0.3s ease; }
        .zodiac-circle:hover { transform: scale(1.1); filter: brightness(1.3); }
        .zodiac-text { font-size: 14px; font-weight: bold; text-shadow: 1px 1px 2px rgba(0,0,0,0.8); pointer-events: none; }
        @media (max-width: 768px) {
            .title { font-size: 2rem; }
            .controls { flex-direction: column; align-items: center; }
            .btn { width: 100%; max-width: 250px; }
        }
    </style>
</head>
<body>
    <div id="app">
        <div class="app">
            <header class="header">
                <h1 class="title">🎵✨ Astro-Chromatone ✨🎵</h1>
                <p>Your Personal Cosmic Sound & Color Palette</p>
            </header>

            <main>
                <div v-if="!showResults && !isLoading" class="input-section">
                    <h2>🌌 Enter Your Cosmic Coordinates</h2>
                    <form @submit.prevent="generateMusic" class="form">
                        <div class="input-group">
                            <label for="date">📅 Birth Date</label>
                            <input type="date" v-model="birthData.date" required>
                        </div>
                        <div class="input-group">
                            <label for="time">🕐 Birth Time</label>
                            <input type="time" v-model="birthData.time" required>
                        </div>
                        <div class="input-group">
                            <label for="location">🌍 Birth Location</label>
                            <input type="text" v-model="birthData.location" placeholder="New York, NY" required>
                        </div>
                        <button type="submit" :disabled="isLoading" class="generate-btn">
                            ✨ Generate My Cosmic Music ✨
                        </button>
                    </form>
                </div>

                <div v-if="isLoading" class="loading">
                    <div class="spinner"></div>
                    <h3>{{ loadingMessage }}</h3>
                    <p>Translating celestial harmonies into your personal symphony...</p>
                </div>

                <div v-if="showResults" class="results-section">
                    <h2>🎼 Your Astrological Sound Signature</h2>
                    
                    <div class="chart-info">
                        <p><strong>☀️ Sun:</strong> {{ sunSign }}</p>
                        <p><strong>🌙 Moon:</strong> {{ moonSign }}</p>
                        <p><strong>🔥 Element:</strong> {{ dominantElement }}</p>
                        <p><strong>🎹 Key:</strong> {{ musicalKey }}</p>
                        <p><strong>🥁 Tempo:</strong> {{ tempo }} BPM</p>
                    </div>

                    <div class="wheel">
                        <svg width="400" height="400" viewBox="0 0 400 400">
                            <circle cx="200" cy="200" r="180" fill="none" stroke="rgba(102, 126, 234, 0.3)" stroke-width="2"/>
                            <circle cx="200" cy="200" r="120" fill="none" stroke="rgba(102, 126, 234, 0.5)" stroke-width="2"/>
                            <circle cx="200" cy="200" r="60" fill="rgba(0,0,0,0.8)"/>
                            
                            <g v-for="(sign, index) in zodiacSigns" :key="sign">
                                <circle
                                    :cx="200 + 150 * Math.cos((index * 30 - 90) * Math.PI / 180)"
                                    :cy="200 + 150 * Math.sin((index * 30 - 90) * Math.PI / 180)"
                                    :r="20"
                                    :fill="getSignColor(sign)"
                                    @click="playSignTone(sign, index)"
                                    class="zodiac-circle"
                                />
                                <text
                                    :x="200 + 150 * Math.cos((index * 30 - 90) * Math.PI / 180)"
                                    :y="200 + 150 * Math.sin((index * 30 - 90) * Math.PI / 180) + 5"
                                    text-anchor="middle"
                                    fill="white"
                                    class="zodiac-text"
                                >
                                    {{ getSignSymbol(sign) }}
                                </text>
                            </g>
                            
                            <text x="200" y="195" text-anchor="middle" fill="white" style="font-weight: bold;">
                                {{ musicalKey }}
                            </text>
                            <text x="200" y="215" text-anchor="middle" fill="white" style="font-weight: bold;">
                                {{ tempo }} BPM
                            </text>
                        </svg>
                    </div>

                    <div class="controls">
                        <button @click="playScale" class="btn">🎵 Play Your Scale</button>
                        <button @click="playElementalChord" class="btn">🔥 Play {{ dominantElement }} Chord</button>
                        <button @click="generateVariation" class="btn">🎲 New Variation</button>
                        <button @click="shareComposition" class="btn">🔗 Share</button>
                        <button @click="reset" class="btn">🔄 New Chart</button>
                    </div>

                    <div class="results">
                        <h3>🎨 Your Cosmic Color Palette</h3>
                        <div style="display: flex; justify-content: center; gap: 1rem; margin-top: 1rem;">
                            <div v-for="(color, index) in colorPalette" :key="index"
                                 :style="{ width: '40px', height: '40px', backgroundColor: color, borderRadius: '50%', cursor: 'pointer', border: '2px solid rgba(255,255,255,0.3)' }"
                                 @click="playColorTone(index)"
                                 :title="`Scale degree ${index + 1}`">
                            </div>
                        </div>
                    </div>
                </div>
            </main>

            <footer style="margin-top: 3rem; opacity: 0.6;">
                <p>🌟 Built with cosmic love • May the frequencies guide your journey 🌟</p>
            </footer>
        </div>
    </div>

    <script>
        const { createApp, ref, computed, onMounted } = Vue;
        
        createApp({
            setup() {
                const birthData = ref({
                    date: '1990-01-01',
                    time: '12:00',
                    location: 'New York, NY'
                });
                
                const isLoading = ref(false);
                const showResults = ref(false);
                const loadingMessage = ref('');
                
                const sunSign = ref('Aries');
                const moonSign = ref('Taurus');
                const dominantElement = ref('Fire');
                const musicalKey = ref('C Major');
                const tempo = ref(120);
                const colorPalette = ref(['#FF4500', '#FF6347', '#FF8C00', '#FFD700']);
                
                const zodiacSigns = ['Aries', 'Taurus', 'Gemini', 'Cancer', 'Leo', 'Virgo', 
                                   'Libra', 'Scorpio', 'Sagittarius', 'Capricorn', 'Aquarius', 'Pisces'];
                
                const signColors = {
                    'Aries': '#FF4500', 'Taurus': '#8FBC8F', 'Gemini': '#FFD700', 'Cancer': '#4682B4',
                    'Leo': '#FF6347', 'Virgo': '#9ACD32', 'Libra': '#87CEEB', 'Scorpio': '#8B0000',
                    'Sagittarius': '#FF8C00', 'Capricorn': '#556B2F', 'Aquarius': '#00CED1', 'Pisces': '#9370DB'
                };
                
                const signSymbols = {
                    'Aries': '♈', 'Taurus': '♉', 'Gemini': '♊', 'Cancer': '♋',
                    'Leo': '♌', 'Virgo': '♍', 'Libra': '♎', 'Scorpio': '♏',
                    'Sagittarius': '♐', 'Capricorn': '♑', 'Aquarius': '♒', 'Pisces': '♓'
                };

                onMounted(() => {
                    birthData.value.date = new Date().toISOString().split('T')[0];
                });

                async function generateMusic() {
                    isLoading.value = true;
                    
                    const messages = [
                        '🔭 Calculating planetary positions...',
                        '🌌 Analyzing celestial harmonies...',
                        '🎼 Composing your unique symphony...',
                        '✨ Weaving starlight into sound...'
                    ];
                    
                    for (let i = 0; i < messages.length; i++) {
                        loadingMessage.value = messages[i];
                        await new Promise(r => setTimeout(r, 1500));
                    }
                    
                    // Simple chart calculation
                    const date = new Date(birthData.value.date);
                    const dayOfYear = Math.floor((date - new Date(date.getFullYear(), 0, 0)) / (1000 * 60 * 60 * 24));
                    const signIndex = Math.floor((dayOfYear + 10) / 30.4) % 12;
                    
                    sunSign.value = zodiacSigns[signIndex];
                    moonSign.value = zodiacSigns[(signIndex + 3) % 12];
                    
                    const elements = ['Fire', 'Earth', 'Air', 'Water'];
                    dominantElement.value = elements[signIndex % 4];
                    
                    const keys = ['C Major', 'D Major', 'E Major', 'F Major', 'G Major', 'A Major', 'B Major'];
                    musicalKey.value = keys[signIndex % 7];
                    
                    tempo.value = Math.round(80 + (signIndex * 10) + Math.random() * 20);
                    
                    // Set element colors
                    const elementColors = {
                        Fire: ['#FF4500', '#FF6347', '#FF8C00', '#FFD700'],
                        Earth: ['#8FBC8F', '#9ACD32', '#556B2F', '#8B4513'],
                        Air: ['#87CEEB', '#FFD700', '#00CED1', '#B0E0E6'],
                        Water: ['#4682B4', '#8B0000', '#9370DB', '#4169E1']
                    };
                    colorPalette.value = elementColors[dominantElement.value];
                    
                    isLoading.value = false;
                    showResults.value = true;
                }

                async function playSignTone(sign, index) {
                    await Tone.start();
                    const frequencies = [261.63, 277.18, 293.66, 311.13, 329.63, 349.23, 369.99, 392.00, 415.30, 440.00, 466.16, 493.88];
                    const synth = new Tone.Synth().toDestination();
                    synth.triggerAttackRelease(frequencies[index], '8n');
                    setTimeout(() => synth.dispose(), 1000);
                }

                async function playScale() {
                    await Tone.start();
                    const synth = new Tone.Synth().toDestination();
                    const scale = [261.63, 293.66, 329.63, 349.23, 392.00, 440.00, 493.88, 523.25];
                    
                    scale.forEach((freq, i) => {
                        setTimeout(() => {
                            synth.triggerAttackRelease(freq, '8n');
                        }, i * 400);
                    });
                    
                    setTimeout(() => synth.dispose(), 4000);
                }

                async function playElementalChord() {
                    await Tone.start();
                    const chords = {
                        Fire: [261.63, 329.63, 392.00],
                        Earth: [293.66, 369.99, 440.00],
                        Air: [329.63, 415.30, 493.88],
                        Water: [220.00, 277.18, 329.63]
                    };
                    
                    const synth = new Tone.PolySynth().toDestination();
                    synth.triggerAttackRelease(chords[dominantElement.value], '2n');
                    setTimeout(() => synth.dispose(), 3000);
                }

                async function playColorTone(index) {
                    await Tone.start();
                    const baseFreq = 261.63;
                    const intervals = [0, 2, 4, 5, 7, 9, 11];
                    const freq = baseFreq * Math.pow(2, intervals[index % 7] / 12);
                    
                    const synth = new Tone.Synth().toDestination();
                    synth.triggerAttackRelease(freq, '4n');
                    setTimeout(() => synth.dispose(), 800);
                }

                function generateVariation() {
                    const keys = ['C Major', 'D Major', 'E Major', 'F Major', 'G Major', 'A Major', 'B Major'];
                    musicalKey.value = keys[Math.floor(Math.random() * keys.length)];
                    tempo.value = Math.round(80 + Math.random() * 60);
                }

                function shareComposition() {
                    const text = `🎵✨ Check out my cosmic sound signature! I'm a ${sunSign.value} Sun with ${dominantElement.value} energy, and my personal key is ${musicalKey.value}! ✨🎵`;
                    
                    if (navigator.share) {
                        navigator.share({
                            title: 'My Cosmic Sound Signature',
                            text: text,
                            url: window.location.href
                        });
                    } else {
                        navigator.clipboard.writeText(text + ' ' + window.location.href);
                        alert('🌟 Your cosmic signature copied to clipboard! ✨');
                    }
                }

                function reset() {
                    showResults.value = false;
                    isLoading.value = false;
                }

                function getSignColor(sign) {
                    return signColors[sign] || '#FFFFFF';
                }

                function getSignSymbol(sign) {
                    return signSymbols[sign] || '?';
                }

                return {
                    birthData,
                    isLoading,
                    showResults,
                    loadingMessage,
                    sunSign,
                    moonSign,
                    dominantElement,
                    musicalKey,
                    tempo,
                    colorPalette,
                    zodiacSigns,
                    generateMusic,
                    playSignTone,
                    playScale,
                    playElementalChord,
                    playColorTone,
                    generateVariation,
                    shareComposition,
                    reset,
                    getSignColor,
                    getSignSymbol
                };
            }
        }).mount('#app');
    </script>
</body>
</html>
